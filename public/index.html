<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prima Academy | Excellence in Education</title>
    <meta name="google-site-verification" content="d15TtkIt55zBmeINOOdFXuLMSw5blooaK4Rpz_H4Y_k" />
    <meta name="description" content="Prima Academy offers world-class education focused on academic excellence and holistic development.">
    <meta name="keywords" content="Prima Academy, school, education, Ghana, admissions, students, learning">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css">
    <style>
        /* CSS Variables for consistent theming */
        :root {
            --primary: #f88e10;
            --secondary: #f9a826;
            --accent: #2e7d32;
            --light: #f5f5f5;
            --dark: #333;
            --text: #444;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
            --bg-color: #fff;
            --text-color: #444;
        }

        /* Dark Mode Variables */
        [data-theme="dark"] {
            --primary: #f88e10;
            --secondary: #ffb74d;
            --accent: #4caf50;
            --light: #2d2d2d;
            --dark: #f5f5f5;
            --text: #e0e0e0;
            --bg-color: #1e1e1e;
            --text-color: #e0e0e0;
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            line-height: 1.6;
            color: var(--text);
            background-color: var(--bg-color);
            transition: var(--transition);
        }

        h1, h2, h3, h4 {
            color: var(--primary);
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        p {
            margin-bottom: 1rem;
        }

        .empty-state {
            text-align: center;
            color: #777;
            padding: 40px 20px;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        .btn {
            display: inline-block;
            padding: 12px 30px;
            background-color: #000;
            color: white;
            border: none;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }

        .btn:hover {
            background-color: #222;
            transform: translateY(-2px);
        }

        .btn-primary {
            background-color: #555;
        }

        .btn-primary:hover {
            background-color: #333;
        }

        .section {
            padding: 80px 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 50px;
            position: relative;
        }

        .section-title:after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background-color: var(--secondary);
            margin: 15px auto;
        }

        /* Header & Navigation */
        header {
            background-color: var(--bg-color);
            box-shadow: var(--shadow);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            transition: var(--transition);
        }

        header.shrink {
            padding: 5px 0;
        }

        header.shrink .logo img {
            height: 40px;
        }

        header.shrink .logo-text {
            font-size: 1.3rem;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            transition: var(--transition);
        }

        .logo {
            display: flex;
            align-items: center;
        }

        .logo img {
            height: 50px;
            margin-right: 10px;
            transition: var(--transition);
        }

        .logo-text {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            transition: var(--transition);
        }

        .nav-menu {
            display: flex;
            list-style: none;
        }

        .nav-menu li {
            margin-left: 30px;
            position: relative;
        }

        .nav-menu a {
            font-weight: 600;
            transition: var(--transition);
            position: relative;
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            color: var(--secondary);
        }

        .nav-menu a:after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            background: var(--secondary);
            bottom: -5px;
            left: 0;
            transition: var(--transition);
        }

        .nav-menu a:hover:after,
        .nav-menu a.active:after {
            width: 100%;
        }

        /* Dropdown Menu */
        .dropdown {
            position: relative;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: var(--bg-color);
            min-width: 200px;
            box-shadow: var(--shadow);
            z-index: 1;
            border-radius: 4px;
            overflow: hidden;
        }

        .dropdown-content a {
            color: var(--text);
            padding: 12px 16px;
            display: block;
            transition: var(--transition);
        }

        .dropdown-content a:hover {
            background-color: var(--light);
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .mobile-toggle {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Theme Toggle */
        .theme-toggle {
            background: none;
            border: none;
            color: var(--primary);
            font-size: 1.2rem;
            cursor: pointer;
            margin-left: 20px;
            transition: var(--transition);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(248, 142, 16, 0.8), rgba(248, 142, 16, 0.9)), url('https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 180px 0 100px;
            text-align: center;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            color: white;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 30px;
        }

        .hero-btns {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        /* About Section */
        .about {
            background-color: var(--light);
        }

        .about-content {
            display: flex;
            align-items: center;
            gap: 50px;
        }

        .about-text {
            flex: 1;
        }

        .about-image {
            flex: 1;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .about-image img {
            width: 100%;
            height: auto;
            display: block;
            transition: var(--transition);
        }

        .about-image:hover img {
            transform: scale(1.05);
        }

        .values {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .value-card {
            background: var(--bg-color);
            padding: 30px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: var(--transition);
        }

        .value-card:hover {
            transform: translateY(-10px);
        }

        .value-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 20px;
        }

        /* Academics Section */
        .academics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .academic-card {
            background: var(--bg-color);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .academic-card:hover {
            transform: translateY(-5px);
        }

        .academic-img {
            height: 200px;
            overflow: hidden;
        }

        .academic-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .academic-card:hover .academic-img img {
            transform: scale(1.1);
        }

        .academic-content {
            padding: 25px;
        }

        .prospectus-btn {
            margin-top: 15px;
            display: inline-block;
        }

        /* Faculty Section */
        .faculty-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }

        .faculty-card {
            background: var(--bg-color);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            text-align: center;
        }

        .faculty-card:hover {
            transform: translateY(-5px);
        }

        .faculty-img {
            height: 250px;
            overflow: hidden;
        }

        .faculty-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .faculty-card:hover .faculty-img img {
            transform: scale(1.05);
        }

        .faculty-info {
            padding: 20px;
        }

        .faculty-bio {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .faculty-card:hover .faculty-bio {
            max-height: 200px;
        }

        /* Testimonials Section */
        .testimonials {
            background-color: var(--light);
        }

        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .testimonial {
            background: var(--bg-color);
            padding: 30px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            position: relative;
        }

        .testimonial:before {
            content: '"';
            font-size: 4rem;
            color: var(--secondary);
            position: absolute;
            top: 10px;
            left: 20px;
            opacity: 0.3;
        }

        .testimonial p {
            font-style: italic;
            margin-bottom: 20px;
        }

        .testimonial h4 {
            color: var(--primary);
            margin-bottom: 0;
        }

        /* News Section */
        .news {
            background-color: var(--light);
        }

        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .news-card {
            background: var(--bg-color);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .news-img {
            height: 200px;
            overflow: hidden;
        }

        .news-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .news-content {
            padding: 25px;
        }

        .news-date {
            color: var(--secondary);
            font-weight: 600;
            margin-bottom: 10px;
            display: block;
        }

        .load-more {
            text-align: center;
            margin-top: 30px;
        }

        /* Calendar Section */
        .calendar-container {
            background: var(--bg-color);
            padding: 30px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            margin-top: 50px;
        }

        #calendar {
            max-width: 100%;
        }

        /* Gallery Section */
        .gallery {
            background-color: var(--light);
        }

        .gallery-filters {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 20px;
            background: var(--bg-color);
            border: 1px solid var(--primary);
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
        }

        .filter-btn.active,
        .filter-btn:hover {
            background: var(--primary);
            color: white;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }

        .gallery-item {
            border-radius: 8px;
            overflow: hidden;
            height: 200px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            cursor: pointer;
        }

        .gallery-item:hover {
            transform: scale(1.05);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Lightbox */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1001;
            justify-content: center;
            align-items: center;
        }

        .lightbox-content {
            max-width: 90%;
            max-height: 90%;
        }

        .lightbox-content img {
            width: 100%;
            height: auto;
        }

        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 2rem;
            cursor: pointer;
        }

        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-size: 2rem;
            cursor: pointer;
            padding: 10px;
        }

        .lightbox-prev {
            left: 20px;
        }

        .lightbox-next {
            right: 20px;
        }

        /* Admissions Section */
        .admission-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .step {
            text-align: center;
            padding: 30px 20px;
            background: var(--bg-color);
            border-radius: 8px;
            box-shadow: var(--shadow);
        }

        .step-number {
            display: inline-block;
            width: 50px;
            height: 50px;
            background-color: var(--primary);
            color: white;
            border-radius: 50%;
            line-height: 50px;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .admission-form {
            background: var(--bg-color);
            padding: 40px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            max-width: 800px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
            background: var(--bg-color);
            color: var(--text-color);
        }

        .file-upload {
            border: 2px dashed #ddd;
            padding: 20px;
            text-align: center;
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
        }

        .file-upload:hover {
            border-color: var(--primary);
        }

        .file-upload input {
            display: none;
        }

        .progress-bar {
            height: 10px;
            background: #eee;
            border-radius: 5px;
            margin-top: 20px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: var(--primary);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Contact Section */
        .contact-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .contact-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }

        .contact-icon {
            font-size: 1.5rem;
            color: var(--primary);
            margin-top: 5px;
        }

        .map {
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
            height: 300px;
        }

        .map iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Footer */
        footer {
            background-color: var(--primary);
            color: white;
            padding: 60px 0 20px;
        }

        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-col h3 {
            color: white;
            margin-bottom: 25px;
            position: relative;
        }

        .footer-col h3:after {
            content: '';
            position: absolute;
            left: 0;
            bottom: -10px;
            width: 40px;
            height: 2px;
            background-color: var(--secondary);
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 12px;
        }

        .footer-links a {
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: var(--secondary);
            padding-left: 5px;
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-links a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transition: var(--transition);
        }

        .social-links a:hover {
            background-color: var(--secondary);
            transform: translateY(-3px);
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
        }

        /* Floating Action Button */
        .fab {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: var(--secondary);
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            box-shadow: var(--shadow);
            cursor: pointer;
            z-index: 1000;
            transition: var(--transition);
        }

        .fab:hover {
            transform: scale(1.1);
        }

        /* AI Chat Assistant */
        .chatbot {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 350px;
            height: 500px;
            background: var(--bg-color);
            border-radius: 10px;
            box-shadow: var(--shadow);
            z-index: 1000;
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .chatbot-header {
            background: var(--primary);
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-close {
            cursor: pointer;
        }

        .chatbot-body {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
        }

        .chatbot-message {
            margin-bottom: 15px;
            padding: 10px 15px;
            border-radius: 18px;
            max-width: 80%;
        }

        .bot-message {
            background: var(--light);
            align-self: flex-start;
        }

        .user-message {
            background: var(--primary);
            color: white;
            align-self: flex-end;
            margin-left: auto;
        }

        .chatbot-input {
            display: flex;
            padding: 15px;
            border-top: 1px solid #eee;
        }

        .chatbot-input input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 20px;
            margin-right: 10px;
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .about-content {
                flex-direction: column;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
        }

        @media (max-width: 768px) {
            .mobile-toggle {
                display: block;
            }
            
            .nav-menu {
                position: fixed;
                top: 80px;
                left: -100%;
                flex-direction: column;
                background-color: var(--bg-color);
                width: 100%;
                text-align: center;
                transition: 0.3s;
                box-shadow: var(--shadow);
                padding: 20px 0;
            }
            
            .nav-menu.active {
                left: 0;
            }
            
            .nav-menu li {
                margin: 15px 0;
            }
            
            .hero {
                padding: 150px 0 80px;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .section {
                padding: 60px 0;
            }

            .chatbot {
                width: 300px;
                height: 400px;
            }
        }

        @media (max-width: 576px) {
            .hero-btns {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 250px;
            }
            
            .admission-form {
                padding: 25px;
            }

            .chatbot {
                width: 280px;
                height: 400px;
                right: 10px;
                bottom: 80px;
            }
        }
    </style>
</head>
<body>
    <!-- Header & Navigation -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <img src="media/logo.png" alt="Prima Academy Logo">
                <div class="logo-text">Prima Academy</div>
            </div>
            
            <div class="mobile-toggle">
                <i class="fas fa-bars"></i>
            </div>
            
            <ul class="nav-menu">
                <li><a href="#home" class="active">Home</a></li>
                <li><a href="#about">About Us</a></li>
                <li class="dropdown">
                    <a href="#academics">Academics <i class="fas fa-chevron-down"></i></a>
                    <div class="dropdown-content">
                        <a href="primary.html">Primary School</a>
                        <a href="middle.html">Middle School</a>
                        <a href="high.html">High School</a>
                        <a href="extracurricular.html">Extracurricular</a>
                    </div>
                </li>
                <li><a href="#faculty">Faculty</a></li>
                <li><a href="#gallery">Gallery</a></li>
                <li><a href="#news">News & Events</a></li>
                <li><a href="admission.html">Admissions</a></li>
                <li><a href="#testimonials">Testimonials</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <h1>Excellence in Education, Holistic Development</h1>
            <p>Prima Academy is committed to nurturing young minds through academic excellence, character building, and community values.</p>
            <div class="hero-btns">
                <a href="admission.html" class="btn">Apply Now</a>
                <a href="#about" class="btn btn-primary">Learn More</a>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="section about" id="about">
        <div class="container">
            <h2 class="section-title">About Prima Academy</h2>
            <div class="about-content">
                <div class="about-text">
                    <p>Founded with a vision to provide quality education that empowers students to become lifelong learners and responsible global citizens, Prima Academy has been at the forefront of educational excellence for over two decades.</p>
                    <p>Our holistic approach to education balances rigorous academics with character development, creative expression, and physical well-being. We believe in nurturing each child's unique talents and potential.</p>
                    <p>Our dedicated faculty, state-of-the-art facilities, and inclusive community create an environment where students thrive academically, socially, and emotionally.</p>
                </div>
                <div class="about-image">
                    <img src="https://images.unsplash.com/photo-1562774053-701939374585?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1464&q=80" alt="Prima Academy Campus">
                </div>
            </div>
            
            <div class="values">
                <div class="value-card">
                    <div class="value-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h3>Academic Excellence</h3>
                    <p>We maintain high academic standards with a curriculum designed to challenge and inspire students to achieve their full potential.</p>
                </div>
                
                <div class="value-card">
                    <div class="value-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3>Holistic Development</h3>
                    <p>We focus on the complete development of each child - intellectual, physical, emotional, social, and ethical.</p>
                </div>
                
                <div class="value-card">
                    <div class="value-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Community Values</h3>
                    <p>We foster a strong sense of community, encouraging collaboration, respect, and service to others.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Academics Section -->
    <section class="section academics" id="academics">
        <div class="container">
            <h2 class="section-title">Our Academic Programs</h2>
            <div class="academics-grid">
                <div class="academic-card">
                    <div class="academic-img">
                        <img src="https://images.unsplash.com/photo-1503676260728-1c00da094a0b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1422&q=80" alt="Primary School">
                    </div>
                    <div class="academic-content">
                        <h3>Primary School</h3>
                        <p>Our primary program focuses on building strong foundations in literacy, numeracy, and inquiry-based learning in a nurturing environment.</p>
                        <a href="primary.html" class="btn btn-primary" style="margin-top: 15px;">Learn More</a>
                        <a href="PRIMA ACADEMY PROSPECTUS.pdf" class="btn prospectus-btn">Download Prospectus</a>
                    </div>
                </div>
                
                <div class="academic-card">
                    <div class="academic-img">
                        <img src="https://images.unsplash.com/photo-1591123120675-6f7f1aae0e5b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1469&q=80" alt="Middle School">
                    </div>
                    <div class="academic-content">
                        <h3>Middle School</h3>
                        <p>Our middle school curriculum challenges students academically while supporting their social and emotional development during these formative years.</p>
                        <a href="middle.html" class="btn btn-primary" style="margin-top: 15px;">Learn More</a>
                        <a href="PRIMA ACADEMY PROSPECTUS.pdf" class="btn prospectus-btn">Download Prospectus</a>
                    </div>
                </div>
                
                <div class="academic-card">
                    <div class="academic-img">
                        <img src="https://images.unsplash.com/photo-1523240795612-9a054b0db644?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="High School">
                    </div>
                    <div class="academic-content">
                        <h3>High School</h3>
                        <p>Our comprehensive high school program prepares students for university and beyond with advanced courses, extracurricular activities, and career guidance.</p>
                        <a href="high.html" class="btn btn-primary" style="margin-top: 15px;">Learn More</a>
                        <a href="PRIMA ACADEMY PROSPECTUS.pdf" class="btn prospectus-btn">Download Prospectus</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Faculty Section -->
    <section class="section faculty" id="faculty">
        <div class="container">
            <h2 class="section-title">Our Institution</h2>
            <div class="faculty-grid">
                <div class="faculty-card">
                    <div class="faculty-img">
                        <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80" alt="Dr. Sarah Johnson">
                    </div>
                    <div class="faculty-info">
                        <h3>Dr. Sarah Johnson</h3>
                        <p>Principal</p>
                        <div class="faculty-bio">
                            <p>Dr. Johnson has over 20 years of experience in educational leadership and holds a PhD in Educational Administration.</p>
                        </div>
                    </div>
                </div>
                
                <div class="faculty-card">
                    <div class="faculty-img">
                        <img src="https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1376&q=80" alt="Mr. David Chen">
                    </div>
                    <div class="faculty-info">
                        <h3>Mr. David Chen</h3>
                        <p>Head of Science</p>
                        <div class="faculty-bio">
                            <p>Mr. Chen is passionate about making science accessible and engaging for all students. He has a Master's in Chemistry Education.</p>
                        </div>
                    </div>
                </div>
                
                <div class="faculty-card">
                    <div class="faculty-img">
                        <img src="https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1361&q=80" alt="Ms. Maria Rodriguez">
                    </div>
                    <div class="faculty-info">
                        <h3>Ms. Maria Rodriguez</h3>
                        <p>Head of Languages</p>
                        <div class="faculty-bio">
                            <p>Ms. Rodriguez is fluent in four languages and brings a multicultural perspective to language instruction.</p>
                        </div>
                    </div>
                </div>
                
                <div class="faculty-card">
                    <div class="faculty-img">
                        <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="Mr. James Wilson">
                    </div>
                    <div class="faculty-info">
                        <h3>Mr. James Wilson</h3>
                        <p>Head of Mathematics</p>
                        <div class="faculty-bio">
                            <p>Mr. Wilson has developed innovative approaches to teaching mathematics that make complex concepts understandable.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="section testimonials" id="testimonials">
        <div class="container">
            <h2 class="section-title">What Our Students Say</h2>
            <div class="testimonials-grid">
                <div class="testimonial">
                    <p>"Prima Academy changed my life! The teachers are supportive and inspiring. The extracurricular activities helped me discover my passion for robotics."</p>
                    <h4>- Sarah, Class of 2024</h4>
                </div>
                
                <div class="testimonial">
                    <p>"The academic challenges at Prima prepared me well for university. The small class sizes meant I got personalized attention from my teachers."</p>
                    <h4>- Michael, Class of 2023</h4>
                </div>
                
                <div class="testimonial">
                    <p>"I love the sense of community at Prima. The school events and clubs helped me make friends and develop leadership skills."</p>
                    <h4>- Aisha, Class of 2025</h4>
                </div>
            </div>
        </div>
    </section>

    <!-- News & Events Section -->
    <section class="section news" id="news">
        <div class="container">
            <h2 class="section-title">News & Events</h2>
            <div class="news-grid" id="newsGrid">
                <div class="news-card">
                    <div class="news-img">
                        <img src="https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="Science Fair">
                    </div>
                    <div class="news-content">
                        <span class="news-date">June 15, 2023</span>
                        <h3>Annual Science Fair Winners Announced</h3>
                        <p>Congratulations to all participants in our annual science fair. The projects showcased incredible creativity and scientific thinking.</p>
                        <a href="news.html" class="btn">Read More</a>
                    </div>
                </div>
                
                <div class="news-card">
                    <div class="news-img">
                        <img src="https://images.unsplash.com/photo-1511632765486-a01980e01a18?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="Sports Day">
                    </div>
                    <div class="news-content">
                        <span class="news-date">May 28, 2023</span>
                        <h3>Sports Day 2023: A Celebration of Athleticism</h3>
                        <p>Our annual sports day brought together students, parents, and teachers for a day of friendly competition and physical activity.</p>
                        <a href="news.html" class="btn">Read More</a>
                    </div>
                </div>
                
                <div class="news-card">
                    <div class="news-img">
                        <img src="https://images.unsplash.com/photo-1492684223066-81342ee5ff30?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="Graduation">
                    </div>
                    <div class="news-content">
                        <span class="news-date">April 10, 2023</span>
                        <h3>Class of 2023 Graduation Ceremony</h3>
                        <p>We celebrated the achievements of our graduating class in a memorable ceremony attended by families and faculty.</p>
                        <a href="news.html" class="btn">Read More</a>
                    </div>
                </div>
            </div>
            
            <div class="load-more">
                <a href="news.html" class="btn" id="loadMoreBtn">Load More News</a>
            </div>
            
            <div class="calendar-container">
                <h3 style="text-align: center; margin-bottom: 20px;">School Calendar</h3>
                <div id="calendar"></div>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section class="section gallery" id="gallery">
        <div class="container">
            <h2 class="section-title">Our Gallery</h2>
            <div class="gallery-filters">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="academics">Academics</button>
                <button class="filter-btn" data-filter="sports">Sports</button>
                <button class="filter-btn" data-filter="arts">Arts</button>
                <button class="filter-btn" data-filter="events">Events</button>
            </div>
            
            <div class="gallery-grid">
                <div class="gallery-item" data-category="academics">
                    <img src="https://images.unsplash.com/photo-1588072432836-4b4f2ca7f4e6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="Science Class">
                </div>
                
                <div class="gallery-item" data-category="sports">
                    <img src="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="Basketball Team">
                </div>
                
                <div class="gallery-item" data-category="arts">
                    <img src="https://images.unsplash.com/photo-1541336032412-2048a678540d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80" alt="Art Exhibition">
                </div>
                
                <div class="gallery-item" data-category="events">
                    <img src="https://images.unsplash.com/photo-1511795409834-ef04bbd61622?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1469&q=80" alt="School Play">
                </div>
                
                <div class="gallery-item" data-category="academics">
                    <img src="https://images.unsplash.com/photo-1503676260728-1c00da094a0b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1422&q=80" alt="Library">
                </div>
                
                <div class="gallery-item" data-category="sports">
                    <img src="https://images.unsplash.com/photo-1461896836934-ffe607ba8211?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="Soccer Match">
                </div>
            </div>
        </div>
    </section>

    <!-- Admissions Section -->
    <section class="section admissions" id="admissions">
        <div class="container">
            <h2 class="section-title">Admissions Process</h2>
            
            <div class="admission-steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <h3>Inquiry</h3>
                    <p>Submit an inquiry form or schedule a campus tour to learn more about our programs.</p>
                </div>
                
                <div class="step">
                    <div class="step-number">2</div>
                    <h3>Application</h3>
                    <p>Complete the online application form and submit required documents.</p>
                </div>
                
                <div class="step">
                    <div class="step-number">3</div>
                    <h3>Assessment</h3>
                    <p>Students may be invited for an assessment or interview as part of the process.</p>
                </div>
                
                <div class="step">
                    <div class="step-number">4</div>
                    <h3>Enrollment</h3>
                    <p>Upon acceptance, complete enrollment forms and submit fees to secure placement.</p>
                </div>
            </div>
            
            <div class="admission-form" style="text-align: center;">
                <h3 style="text-align: center; margin-bottom: 30px;">Ready to Apply?</h3>
                <a href="admission.html" class="btn btn-primary">APPLY NOW</a>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="section contact" id="contact">
        <div class="container">
            <h2 class="section-title">Contact Us</h2>
            
            <div class="contact-container">
                <div class="contact-info">
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div>
                            <h3>Address</h3>
                            <p>123 Education Avenue<br>Accra, Ghana</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div>
                            <h3>Phone</h3>
                            <p>+233 123 456 789</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div>
                            <h3>Email</h3>
                            <p>info@primaacademy.edu.gh</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div>
                            <h3>Office Hours</h3>
                            <p>Monday - Friday: 8:00 AM - 4:00 PM<br>Saturday: 9:00 AM - 1:00 PM</p>
                        </div>
                    </div>
                </div>
                
                <div class="contact-form">
                    <form id="contactForm">
                        <div class="form-group">
                            <label for="contactName">Your Name</label>
                            <input type="text" id="contactName" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="contactEmail">Your Email</label>
                            <input type="email" id="contactEmail" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="contactSubject">Subject</label>
                            <input type="text" id="contactSubject" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="contactMessage">Message</label>
                            <textarea id="contactMessage" class="form-control" rows="5" required></textarea>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">Send Message</button>
                    </form>
                </div>
            </div>
            
            <div class="map" style="margin-top: 50px;">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3970.755207351895!2d-0.200367924443997!3d5.603979432899313!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xfdf9c94381c6d6b%3A0x7acc27e5c1e9e9e9!2sAccra%2C%20Ghana!5e0!3m2!1sen!2sus!4v1687891234567!5m2!1sen!2sus" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-container">
                <div class="footer-col">
                    <h3>Prima Academy</h3>
                    <p>Excellence in Education, Holistic Development. Preparing students for success in a rapidly changing world.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#about">About Us</a></li>
                        <li><a href="#academics">Academics</a></li>
                        <li><a href="#admissions">Admissions</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h3>Programs</h3>
                    <ul class="footer-links">
                        <li><a href="primary.html">Primary School</a></li>
                        <li><a href="middle.html">Middle School</a></li>
                        <li><a href="high.html">High School</a></li>
                        <li><a href="extracurricular.html">Extracurricular</a></li>
                        <li><a href="#">Summer Programs</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h3>Contact Info</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-map-marker-alt"></i> 123 Education Avenue, Accra, Ghana</li>
                        <li><i class="fas fa-phone"></i> +233 123 456 789</li>
                        <li><i class="fas fa-envelope"></i> info@primaacademy.edu.gh</li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2023 Prima Academy. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Floating Action Button -->
    <div class="fab" id="applyFab">
        <i class="fas fa-edit"></i>
    </div>

    <!-- AI Chat Assistant -->
    <div class="chatbot" id="chatbot">
        <div class="chatbot-header">
            <h3>Prima Academy Assistant</h3>
            <div class="chatbot-close" id="chatbotClose">
                <i class="fas fa-times"></i>
            </div>
        </div>
        <div class="chatbot-body" id="chatbotBody">
            <div class="chatbot-message bot-message">
                Hello! I'm the Prima Academy assistant. How can I help you today?
            </div>
        </div>
        <div class="chatbot-input">
            <input type="text" id="chatbotInput" placeholder="Type your message...">
            <button class="btn" id="chatbotSend"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox">
        <div class="lightbox-close" id="lightboxClose">
            <i class="fas fa-times"></i>
        </div>
        <div class="lightbox-nav lightbox-prev" id="lightboxPrev">
            <i class="fas fa-chevron-left"></i>
        </div>
        <div class="lightbox-nav lightbox-next" id="lightboxNext">
            <i class="fas fa-chevron-right"></i>
        </div>
        <div class="lightbox-content">
            <img src="" alt="" id="lightboxImage">
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
    <script>
        const NEWS_LIMIT = 3;
        const GALLERY_LIMIT = 8;
        let galleryLightboxImages = [];
        let currentGalleryImageIndex = 0;

        document.addEventListener('DOMContentLoaded', () => {
            setupNavigation();
            setupThemeToggle();
            setupCalendar();
            setupGalleryFilters();
            setupContactForm();
            setupFabChatbot();
            setupChatbot();
            setupLazyImages();
            initializeDynamicContent();
        });

        async function initializeDynamicContent() {
            try {
                await waitForFirebaseReady();
                loadNewsFromFirestore();
                loadGalleryFromFirestore();
                loadFacultyFromFirestore();
                trackPageVisit('Homepage');
            } catch (error) {
                console.error('Dynamic content failed to load:', error);
            }
        }

        async function trackPageVisit(pageName) {
            if (!window.firebaseDBInstance) return;
            try {
                await window.firebaseDBInstance.trackPageVisit(pageName);
            } catch (error) {
                console.error('Failed to track page visit:', error);
            }
        }

        function waitForFirebaseReady(timeout = 8000) {
            return new Promise((resolve, reject) => {
                const start = Date.now();
                const interval = setInterval(() => {
                    if (window.firebaseDBInstance && window.firebaseDb) {
                        clearInterval(interval);
                        resolve(true);
                    } else if (Date.now() - start > timeout) {
                        clearInterval(interval);
                        reject(new Error('Firebase not ready'));
                    }
                }, 100);
            });
        }

        function setupNavigation() {
            const header = document.querySelector('header');
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.nav-menu a');
            window.addEventListener('scroll', () => {
                if (header) {
                    header.classList.toggle('shrink', window.scrollY > 50);
                }
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (scrollY >= (sectionTop - 200)) {
                        current = section.getAttribute('id');
                    }
                });
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (current && link.getAttribute('href') === `#${current}`) {
                        link.classList.add('active');
                    }
                });
            });
            
            const mobileToggle = document.querySelector('.mobile-toggle');
            const navMenu = document.querySelector('.nav-menu');
            if (mobileToggle && navMenu) {
                mobileToggle.addEventListener('click', () => navMenu.classList.toggle('active'));
                navLinks.forEach(link => link.addEventListener('click', () => navMenu.classList.remove('active')));
            }
        }

        function setupThemeToggle() {
            const themeToggle = document.getElementById('themeToggle');
            if (!themeToggle) return;
            const themeIcon = themeToggle.querySelector('i');
            const savedTheme = localStorage.getItem('prima-theme') || 'light';
            document.body.setAttribute('data-theme', savedTheme);
            updateThemeIcon(themeIcon, savedTheme);

            themeToggle.addEventListener('click', () => {
                const newTheme = document.body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
                document.body.setAttribute('data-theme', newTheme);
                localStorage.setItem('prima-theme', newTheme);
                updateThemeIcon(themeIcon, newTheme);
            });
        }

        function updateThemeIcon(icon, theme) {
            if (!icon) return;
            if (theme === 'dark') {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
                } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
        }

        function setupCalendar() {
            const calendarEl = document.getElementById('calendar');
            if (!calendarEl) return;
            const calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay'
                },
                events: [
                    { title: 'First Day of School', start: '2023-09-05' },
                    { title: 'Parent-Teacher Conferences', start: '2023-10-15', end: '2023-10-17' },
                    { title: 'Science Fair', start: '2023-11-10' },
                    { title: 'Winter Break', start: '2023-12-22', end: '2024-01-08' }
                ]
            });
            calendar.render();
        }
            
        function setupGalleryFilters() {
            const filterBtns = document.querySelectorAll('.filter-btn');
            if (!filterBtns.length) return;
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    filterBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    const filter = this.dataset.filter;
                    document.querySelectorAll('.gallery-item').forEach(item => {
                        const matches = filter === 'all' || item.dataset.category === filter;
                        item.style.display = matches ? 'block' : 'none';
                    });
                });
            });
        }
            
        function prepareGalleryLightbox() {
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightboxImage');
            const lightboxClose = document.getElementById('lightboxClose');
            const lightboxPrev = document.getElementById('lightboxPrev');
            const lightboxNext = document.getElementById('lightboxNext');
            if (!lightbox || !lightboxImage) return;

            galleryLightboxImages = Array.from(document.querySelectorAll('.gallery-item img'));
            galleryLightboxImages.forEach((img, index) => {
                img.onclick = () => openLightboxAt(index, lightbox, lightboxImage);
            });

            lightboxClose.onclick = () => lightbox.style.display = 'none';
            lightboxPrev.onclick = () => navigateLightbox(-1, lightboxImage);
            lightboxNext.onclick = () => navigateLightbox(1, lightboxImage);
            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox) {
                    lightbox.style.display = 'none';
                }
            });
        }

        function openLightboxAt(index, lightbox, lightboxImage) {
            if (!galleryLightboxImages.length) return;
            currentGalleryImageIndex = index;
            lightboxImage.src = galleryLightboxImages[currentGalleryImageIndex].src;
            lightbox.style.display = 'flex';
        }

        function navigateLightbox(direction, lightboxImage) {
            if (!galleryLightboxImages.length) return;
            currentGalleryImageIndex = (currentGalleryImageIndex + direction + galleryLightboxImages.length) % galleryLightboxImages.length;
            lightboxImage.src = galleryLightboxImages[currentGalleryImageIndex].src;
        }

        function setupContactForm() {
            const contactForm = document.getElementById('contactForm');
            if (!contactForm) return;
            contactForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                if (!window.firebaseDBInstance || !window.firebaseDb) {
                    alert('Database not initialized. Please refresh and try again.');
                    return;
                }
                const submitBtn = this.querySelector('button[type="submit"]');
                const originalText = submitBtn ? submitBtn.textContent : 'Send Message';
                if (submitBtn) {
                    submitBtn.disabled = true;
                    submitBtn.textContent = 'Sending...';
                }
                try {
                    const contactData = {
                        name: document.getElementById('contactName').value.trim(),
                        email: document.getElementById('contactEmail').value.trim(),
                        subject: document.getElementById('contactSubject').value.trim(),
                        message: document.getElementById('contactMessage').value.trim()
                    };
                    const result = await window.firebaseDBInstance.submitContact(contactData);
                    if (result && result.success) {
                        if (typeof Swal !== 'undefined') {
                            Swal.fire({
                                icon: 'success',
                                title: 'Message Sent!',
                                text: 'Thank you for contacting us. We will get back to you soon.',
                                confirmButtonColor: '#1a4b8c'
                            });
                        } else {
                            alert('Thank you for your message! We will get back to you soon.');
                        }
                        this.reset();
                    } else {
                        throw new Error(result?.error || 'Failed to send message');
                    }
                } catch (error) {
                    console.error('Error submitting contact form:', error);
                    if (typeof Swal !== 'undefined') {
                        Swal.fire({
                            icon: 'error',
                            title: 'Error',
                            text: 'An error occurred while sending your message. Please try again.',
                            confirmButtonColor: '#1a4b8c'
                        });
                    } else {
                        alert('An error occurred while sending your message. Please try again.');
                    }
                } finally {
                    if (submitBtn) {
                        submitBtn.disabled = false;
                        submitBtn.textContent = originalText;
                    }
                }
            });
        }
            
        function setupFabChatbot() {
            const applyFab = document.getElementById('applyFab');
            const chatbot = document.getElementById('chatbot');
            const chatbotInput = document.getElementById('chatbotInput');
            if (!applyFab || !chatbot) return;
            applyFab.addEventListener('click', () => {
                chatbot.style.display = 'flex';
                chatbotInput?.focus();
            });
        }

        function setupChatbot() {
            const chatbot = document.getElementById('chatbot');
            const chatbotClose = document.getElementById('chatbotClose');
            const chatbotBody = document.getElementById('chatbotBody');
            const chatbotInput = document.getElementById('chatbotInput');
            const chatbotSend = document.getElementById('chatbotSend');
            if (!chatbot || !chatbotBody || !chatbotSend) return;
            
            setTimeout(() => {
                chatbot.style.display = 'flex';
            }, 5000);
            
            const addMessage = (message, type = 'bot') => {
                const div = document.createElement('div');
                div.className = `chatbot-message ${type === 'bot' ? 'bot-message' : 'user-message'}`;
                div.textContent = message;
                chatbotBody.appendChild(div);
                chatbotBody.scrollTop = chatbotBody.scrollHeight;
            };

            const processMessage = (message) => {
                const text = message.toLowerCase();
                if (text.includes('admission')) {
                    addMessage('You can find our admission process in the Admissions section of our website. Would you like me to direct you there?');
                } else if (text.includes('fee') || text.includes('tuition')) {
                    addMessage('Our tuition fees vary by grade level. Please contact admissions@primaacademy.edu.gh for detailed information.');
                } else if (text.includes('program')) {
                    addMessage('We offer Primary, Middle, and High School programs with a holistic curriculum.');
                } else if (text.includes('contact')) {
                    addMessage('Reach us at +233 123 456 789 or info@primaacademy.edu.gh.');
                } else {
                    addMessage('I\'m here to help with information about Prima Academy. Feel free to ask about admissions, programs, or contact details.');
                }
            };
            
            chatbotSend.addEventListener('click', () => {
                const message = chatbotInput.value.trim();
                if (!message) return;
                addMessage(message, 'user');
                    chatbotInput.value = '';
                setTimeout(() => processMessage(message), 800);
            });

            chatbotInput?.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    chatbotSend.click();
                }
            });
            
            chatbotClose?.addEventListener('click', () => chatbot.style.display = 'none');
        }

        function setupLazyImages() {
            if (!('IntersectionObserver' in window)) return;
            const observer = new IntersectionObserver((entries, obs) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            img.src = img.dataset.src;
                            img.classList.remove('lazy');
                        obs.unobserve(img);
                        }
                    });
                });
            document.querySelectorAll('img[data-src]').forEach(img => observer.observe(img));
        }

        async function loadNewsFromFirestore() {
            const newsGrid = document.getElementById('newsGrid');
            const loadMoreBtn = document.getElementById('loadMoreBtn');
            if (!newsGrid || !window.firebaseDBInstance) return;
            const fallback = newsGrid.innerHTML;
            try {
                const result = await (window.firebaseDBInstance.getNews ? window.firebaseDBInstance.getNews(NEWS_LIMIT) : window.firebaseDBInstance.getAllNewsArticles());
                if (!result.success || !result.data.length) {
                    newsGrid.innerHTML = `<p class="empty-state">News updates will appear here soon.</p>`;
                    if (loadMoreBtn) loadMoreBtn.style.display = 'none';
                    return;
                }
                const articles = result.data.slice(0, NEWS_LIMIT);
                newsGrid.innerHTML = articles.map(article => `
                    <div class="news-card">
                        <div class="news-img">
                            <img src="${article.heroImage || article.image || 'https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?auto=format&fit=crop&w=900&q=80'}" alt="${article.title || 'Prima Academy News'}">
                        </div>
                        <div class="news-content">
                            <span class="news-date">${formatDate(article.publishDate || article.date)}</span>
                            <h3>${article.title || 'Latest Update'}</h3>
                            <p>${article.summary || 'Stay tuned for more details about this announcement.'}</p>
                            <a href="news.html" class="btn">Read More</a>
                        </div>
                    </div>
                `).join('');
                if (loadMoreBtn) {
                    loadMoreBtn.textContent = 'Explore News & Events';
                    loadMoreBtn.href = 'news.html';
                }
            } catch (error) {
                console.error('Error loading news:', error);
                newsGrid.innerHTML = fallback;
            }
        }

        async function loadFacultyFromFirestore() {
            const facultyGrid = document.querySelector('.faculty-grid');
            if (!facultyGrid || !window.firebaseDBInstance) return;
            const fallback = facultyGrid.innerHTML;
            try {
                const result = await (window.firebaseDBInstance.getAllFacultyMembers ? window.firebaseDBInstance.getAllFacultyMembers() : window.firebaseDBInstance.getFaculty());
                if (!result.success || !result.data.length) {
                    facultyGrid.innerHTML = fallback;
                    return;
                }
                const members = result.data.slice(0, 4);
                facultyGrid.innerHTML = members.map(member => `
                    <div class="faculty-card">
                        <div class="faculty-img">
                            <img src="${member.photo || member.image || 'https://images.unsplash.com/photo-1544723795-3fb6469f5b39?auto=format&fit=crop&w=800&q=80'}" alt="${member.name || member.firstName || 'Faculty Member'}">
                        </div>
                        <div class="faculty-info">
                            <h3>${member.name || `${member.firstName || ''} ${member.lastName || ''}`.trim() || 'Faculty'}</h3>
                            <p>${member.position || member.department || 'Instructor'}</p>
                            <div class="faculty-bio">
                                <p>${member.bio || 'Dedicated educator committed to student success.'}</p>
                            </div>
                        </div>
                    </div>
                `).join('');
            } catch (error) {
                console.error('Error loading faculty:', error);
                facultyGrid.innerHTML = fallback;
            }
        }

        async function loadGalleryFromFirestore() {
            const galleryGrid = document.querySelector('.gallery-grid');
            if (!galleryGrid || !window.firebaseDBInstance) return;
            const fallback = galleryGrid.innerHTML;
            try {
                const result = await window.firebaseDBInstance.getAllGalleryImages();
                if (!result.success || !result.data.length) {
                    galleryGrid.innerHTML = `<p class="empty-state">Gallery highlights will appear here soon.</p>`;
                    prepareGalleryLightbox();
                    return;
                }
                const galleryItemsData = result.data.slice(0, GALLERY_LIMIT).map(item => ({
                    category: (item.category || 'events').toLowerCase(),
                    imageUrl: item.imageUrl || item.url || 'https://images.unsplash.com/photo-1523240795612-9a054b0db644?auto=format&fit=crop&w=1200&q=80',
                    title: item.title || 'Gallery Highlight'
                }));
                renderGalleryItems(galleryItemsData, galleryGrid);
            } catch (error) {
                console.error('Error loading gallery:', error);
                galleryGrid.innerHTML = fallback;
            }
        }

        function renderGalleryItems(items, container) {
            container.innerHTML = items.map(item => `
                <div class="gallery-item" data-category="${item.category}">
                    <img src="${item.imageUrl}" alt="${item.title}">
                </div>
            `).join('');
            prepareGalleryLightbox();
        }

        function formatDate(dateValue) {
            if (!dateValue) return '';
            if (dateValue.toDate) {
                const d = dateValue.toDate();
                return d.toLocaleDateString(undefined, { month: 'long', day: 'numeric', year: 'numeric' });
            }
            const date = new Date(dateValue);
            if (Number.isNaN(date.getTime())) return dateValue;
            return date.toLocaleDateString(undefined, { month: 'long', day: 'numeric', year: 'numeric' });
        }
    </script>

    <!-- Firebase (modular) initialization and app modules -->
    <script type="module">
        import './js/firebase-init.js';
        import './js/init-emulators.js';
        import './js/firebase-auth.js';
        import './js/firebase-db.js';
    </script>
</body>
</html>